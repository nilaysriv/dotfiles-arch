# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                        Hyprland Main Configuration                           ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Configuration is split into modular files for easier management:
# - keybinds.conf    : All keyboard shortcuts and mouse bindings
# - rules.conf       : Window rules for KDE apps and other applications
# - autostart.conf   : Programs to start with Hyprland
# - animations.conf  : Animation settings (fast, no blur, sharp corners)
# - theme.conf       : Current theme colors (auto-generated by theme switcher)
# Put this near the top of hyprland.conf
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
#env = XDG_SESSION_DESKTOP,Hyprland
#env = PASSWORD_STORE,kwallet
# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                             Monitor Configuration                            ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Auto-detect monitors and set them to their preferred mode
# Syntax: monitor = name, resolution@refresh, position, scale
#monitor = ,preferred,auto,1

# You can customize specific monitors like this:
# monitor = DP-1, 2560x1440@144, 0x0, 1
# monitor = HDMI-A-1, 1920x1080@60, 2560x0, 1


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                            Workspace Configuration                           ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Create 10 workspaces by default
# Workspaces are created dynamically, but we can set defaults
workspace = 1, monitor:, default:true
workspace = 2, monitor:
workspace = 3, monitor:
workspace = 4, monitor:
workspace = 5, monitor:
workspace = 6, monitor:
workspace = 7, monitor:
workspace = 8, monitor:
workspace = 9, monitor:
workspace = 10, monitor:


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                               Input Configuration                            ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

input {
    kb_layout = us
    # kb_variant = 
    # kb_model =
    # kb_options =
    # kb_rules =

    # Repeat rate and delay
    repeat_rate = 50
    repeat_delay = 300

    follow_mouse = 1  # Focus follows mouse cursor

    touchpad {
        natural_scroll = true
        disable_while_typing = true
        tap-to-click = true
        scroll_factor = 0.5
    }

    sensitivity = 0  # -1.0 to 1.0, 0 means no modification
}


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                              General Settings                                ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

general {
    # Gaps between windows
    gaps_in = 5
    gaps_out = 10
    
    # Border settings
    border_size = 2
    
    # Border colors (will be overridden by theme.conf)
    col.active_border = rgba(88888888)
    col.inactive_border = rgba(33333388)
    
    # Layout algorithm (dwindle or master)
    layout = dwindle
    
    # Allow tearing for reduced latency (for gaming)
    allow_tearing = false
}


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                           Decoration Settings                                ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

decoration {
    # Rounded corners (set to 0 for sharp corners as requested)
    rounding = 0
    
    # Opacity settings
    active_opacity = 1.0
    inactive_opacity = 1.0
    fullscreen_opacity = 1.0
    
    # Drop shadow (updated syntax)
    shadow {
        enabled = true
        range = 8
        render_power = 2
        color = rgba(00000044)
    }
    
    # Dim inactive windows
    dim_inactive = false
    dim_strength = 0.05
    
    # Blur settings (disabled as requested)
    blur {
        enabled = false
        size = 0
        passes = 0
    }
}


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                              Layout Settings                                 ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

dwindle {
    # Pseudotiling (bound to mainMod + P in the keybinds)
    pseudotile = true
    
    # Master switch for preserving split ratio
    preserve_split = true
    
    # Split direction (false = right/bottom, true = left/top)
    force_split = 2  # 0 = split follows mouse, 1 = always left, 2 = always right
    
    # Smart split (automatically choose best split direction)
    smart_split = false
}

master {
    # Master layout specific settings
    new_status = master
    new_on_top = false
    mfact = 0.5
}
#Themes
exec = gsettings set org.gnome.desktop.interface gtk-theme "adw-gtk3"   # for GTK3 apps
exec = gsettings set org.gnome.desktop.interface color-scheme "prefer-dark"   # for GTK4 apps
env = QT_QPA_PLATFORMTHEME,qt6ct   # for Qt apps# Theme


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                              Gesture Settings                                ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

gestures {
   # workspace_swipe = true
   # workspace_swipe_fingers = 3
    workspace_swipe_distance = 300
    workspace_swipe_invert = true
    workspace_swipe_min_speed_to_force = 30
    workspace_swipe_cancel_ratio = 0.5
    workspace_swipe_create_new = true
   # workspace_swipe_numbered = false
}


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                           Miscellaneous Settings                             ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

misc {
    # Disable the anime mascot wallpapers
    force_default_wallpaper = 0
    
    # Disable auto-polling for config file changes
    disable_autoreload = false
    
    # Enable variable refresh rate
    vrr = 0  # 0 = off, 1 = on, 2 = fullscreen only
    
    # Mouse settings
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
    
    # Focus behavior
    focus_on_activate = true
    
    # Window swallowing
    enable_swallow = false
    swallow_regex = ^(kitty)$
    
    # Suppress portal warnings
    disable_hyprland_logo = true
}


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                              XDG Portal Settings                             ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Use KDE portal for better KDE app integration
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

# Qt theming (for KDE apps)
env = QT_QPA_PLATFORM,wayland
env = QT_QPA_PLATFORMTHEME,qt5ct  # or qt6ct, kvantum
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_STYLE_OVERRIDE,kvantum 

# GTK theming
env = GDK_BACKEND,wayland,x11
env = GTK_THEME,Adwaita:dark

# Cursor
env = XCURSOR_SIZE,24

# Font configuration
env = FONT_FAMILY,JetBrains Mono


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          Import Modular Configurations                       ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Import modular configuration files
# These files contain specific configurations split for easier management

source = ~/.config/hypr/animations.conf
source = ~/.config/hypr/keybinds.conf
source = ~/.config/hypr/rules.conf
source = ~/.config/hypr/autostart.conf
source = ~/.config/hypr/theme.conf
source = ~/.config/hypr/monitors.conf
