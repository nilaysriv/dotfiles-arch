# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          Window Rules Configuration                          ║
# ║                    Rules for KDE apps and other applications                 ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Window rules syntax:
# windowrule = RULE, WINDOW_IDENTIFIER
# windowrulev2 = RULE, PROPERTY:VALUE
#
# Common properties:
# - class: Application class name
# - title: Window title
# - floating: Is the window floating
# - fullscreen: Is the window fullscreen
# - workspace: Which workspace the window is on


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                              KDE Applications                                ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Dolphin (File Manager)
windowrulev2 = float, class:^(org.kde.dolphin)$, title:^(Copying|Moving|Deleting)
windowrulev2 = float, class:^(org.kde.dolphin)$, title:^(Progress Dialog)

# KDE Connect
windowrulev2 = float, class:^(org.kde.kdeconnect)
windowrulev2 = size 500 600, class:^(org.kde.kdeconnect)

# Okular (PDF Viewer)
windowrulev2 = workspace 3, class:^(org.kde.okular)$


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                            System Applications                               ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Network Manager Editor
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = size 600 500, class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$

# Blueman (Bluetooth Manager)
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = size 800 600, class:^(blueman-manager)$
windowrulev2 = center, class:^(blueman-manager)$

# Blueman Adapters
windowrulev2 = float, class:^(blueman-adapters)$

# PulseAudio Volume Control (pavucontrol)
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = size 800 600, class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$

# Btop (System Monitor)
windowrulev2 = float, title:^(btop)$
windowrulev2 = size 1200 800, title:^(btop)$
windowrulev2 = center, title:^(btop)$


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                              Rofi Windows                                    ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Make all Rofi windows float
windowrulev2 = float, class:^(Rofi)$
windowrulev2 = stayfocused, class:^(Rofi)$
windowrulev2 = noborder, class:^(Rofi)$
windowrulev2 = dimaround, class:^(Rofi)$


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          Waypaper (Wallpaper Picker)                         ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

windowrulev2 = float, class:^(waypaper)$
windowrulev2 = size 1000 700, class:^(waypaper)$
windowrulev2 = center, class:^(waypaper)$


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          Flatpak Applications                                ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Syncthing GTK (Flatpak)
windowrulev2 = float, class:^(me.kozec.syncthingtk)$
windowrulev2 = size 900 700, class:^(me.kozec.syncthingtk)$


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          Notification Daemon                                 ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Dunst notifications
windowrulev2 = float, class:^(dunst)$
windowrulev2 = noborder, class:^(dunst)$
windowrulev2 = nofocus, class:^(dunst)$


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          Picture-in-Picture                                  ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Firefox PiP
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = size 640 360, title:^(Picture-in-Picture)$

# Chrome/Chromium PiP
windowrulev2 = float, title:^(.*is sharing your screen)$
windowrulev2 = move 0 0, title:^(.*is sharing your screen)$


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          Dialog Windows                                      ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Make all dialog windows float by default
windowrulev2 = float, class:^(.*)$, title:^(Open File)$
windowrulev2 = float, class:^(.*)$, title:^(Save File)$
windowrulev2 = float, class:^(.*)$, title:^(Save As)$
windowrulev2 = float, class:^(.*)$, title:^(Choose File)$
windowrulev2 = float, class:^(.*)$, title:^(Select File)$
windowrulev2 = center, class:^(.*)$, title:^(Open File)$
windowrulev2 = center, class:^(.*)$, title:^(Save File)$
windowrulev2 = center, class:^(.*)$, title:^(Save As)$


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          XWayland Legacy Apps                                ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Force XWayland apps to use nearest neighbor scaling (sharper)
# windowrulev2 = forcergbx, xwayland:1


# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                          Layer Rules (for overlays)                          ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# Waybar (top bar)
# layerrule = blur, waybar  # Disabled since we don't want blur
# layerrule = ignorezero, waybar

# Rofi
# layerrule = blur, rofi  # Disabled since we don't want blur
# layerrule = ignorezero, rofi
